@PART[MiniISRU]:FOR[RealFuels]
{

-MODULE[ModuleResourceConverter],*:HAS[#ConverterName[Monoprop]]
	{}
	
@MODULE[ModuleResourceConverter],*:HAS[#ConverterName[Lf+Ox]]
	{
		@ConverterName = Methane to Hydrogen
		@StartActionName = Start ISRU [CH4-H2]
		@StopActionName = Stop ISRU [CH4-H2]	
		
			@INPUT_RESOURCE
			{
			@ResourceName = LqdMethane
			}
			@OUTPUT_RESOURCE:HAS[#ResourceName[LiquidFuel]]
			{
			@ResourceName = Kerosine
			@Ratio = .75
			}
			@OUTPUT_RESOURCE:HAS[#ResourceName[Oxidizer]]
			{
			@ResourceName = CarbonDioxide
			@Ratio = .25
			@DumpExcess = true
			}
			
	}

@MODULE[ModuleResourceConverter],*:HAS[#ConverterName[LiquidFuel]]
	{
		@ConverterName = Kerosine
		@StartActionName = Start ISRU [Kerosine]
		@StopActionName = Stop ISRU [Kerosine]	
		
			@INPUT_RESOURCE
			{
			@ResourceName = Oil
			}
			@OUTPUT_RESOURCE:HAS[#ResourceName[LiquidFuel]]
			{
			@ResourceName = Kerosine
			}
			OUTPUT_RESOURCE
		 	{
			ResourceName = LqdMethane
			Ratio = 0.1
			DumpExcess = true
			FlowMode = STAGE_PRIORITY_FLOW
		 	}

	}

@MODULE[ModuleResourceConverter],*:HAS[#ConverterName[Oxidizer]]
	{
		@ConverterName = LqdOxygen
		@StartActionName = Start ISRU [LqdOxygen]
		@StopActionName = Stop ISRU [LqdOxygen]	
		
			@OUTPUT_RESOURCE
			{
			@ResourceName = LqdOxygen
			}
			
	}
	
MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Water Electrolizer
		StartActionName = Start Water Electrolizer
		StopActionName = Stop Water Electrolizer 
		AutoShutdown = true
		GeneratesHeat = true
		TemperatureModifier = 20
		DefaultShutoffTemp = 0.5
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		Specialty = Engineer
		EfficiencyBonus = 1

		 
		 INPUT_RESOURCE
		 {
			ResourceName = Water
			Ratio = 1
			FlowMode = STAGE_PRIORITY_FLOW
  		 }
		 INPUT_RESOURCE
		 {
			ResourceName = ElectricCharge
			Ratio = 600
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = LqdHydrogen
			Ratio = 1.4
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = LqdOxygen
			Ratio = 0.7
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
	}	
}


@PART[ISRU]:FOR[RealFuels]
{

-MODULE[ModuleResourceConverter],*:HAS[#ConverterName[Monoprop]]
	{}
	
@MODULE[ModuleResourceConverter],*:HAS[#ConverterName[Lf+Ox]]
	{
		@ConverterName = Methane to Hydrogen
		@StartActionName = Start ISRU [CH4-H2]
		@StopActionName = Stop ISRU [CH4-H2]	
		
			@INPUT_RESOURCE
			{
			@ResourceName = LqdMethane
			}
			@OUTPUT_RESOURCE:HAS[#ResourceName[LiquidFuel]]
			{
			@ResourceName = Kerosine
			@Ratio = .75
			}
			@OUTPUT_RESOURCE:HAS[#ResourceName[Oxidizer]]
			{
			@ResourceName = CarbonDioxide
			@Ratio = .25
			@DumpExcess = true
			}
			
	}

@MODULE[ModuleResourceConverter],*:HAS[#ConverterName[LiquidFuel]]
	{
		@ConverterName = Kerosine
		@StartActionName = Start ISRU [Kerosine]
		@StopActionName = Stop ISRU [Kerosine]	
		
			@INPUT_RESOURCE
			{
			@ResourceName = Oil
			}
			@OUTPUT_RESOURCE:HAS[#ResourceName[LiquidFuel]]
			{
			@ResourceName = Kerosine
			}
			OUTPUT_RESOURCE
		 	{
			ResourceName = LqdMethane
			Ratio = 0.1
			DumpExcess = true
			FlowMode = STAGE_PRIORITY_FLOW
		 	}

	}

@MODULE[ModuleResourceConverter],*:HAS[#ConverterName[Oxidizer]]
	{
		@ConverterName = LqdOxygen
		@StartActionName = Start ISRU [LqdOxygen]
		@StopActionName = Stop ISRU [LqdOxygen]	
		
			@OUTPUT_RESOURCE
			{
			@ResourceName = LqdOxygen
			}
			
	}
	
MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Water Electrolizer
		StartActionName = Start Water Electrolizer
		StopActionName = Stop Water Electrolizer 
		AutoShutdown = true
		GeneratesHeat = true
		TemperatureModifier = 20
		DefaultShutoffTemp = 0.5
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		Specialty = Engineer
		EfficiencyBonus = 1

		 
		 INPUT_RESOURCE
		 {
			ResourceName = Water
			Ratio = 1
			FlowMode = STAGE_PRIORITY_FLOW
  		 }
		 INPUT_RESOURCE
		 {
			ResourceName = ElectricCharge
			Ratio = 600
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = LqdHydrogen
			Ratio = 1.4
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = LqdOxygen
			Ratio = 0.7
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
	}	
		

}

@PART[KKAOSS_ISRU_g]
{

-MODULE[ModuleResourceConverter],*:HAS[#ConverterName[Monoprop]]
	{}
	
@MODULE[ModuleResourceConverter],*:HAS[#ConverterName[Lf+Ox]]
	{
		@ConverterName = Methane to Hydrogen
		@StartActionName = Start ISRU [CH4-H2]
		@StopActionName = Stop ISRU [CH4-H2]	
		
			@INPUT_RESOURCE
			{
			@ResourceName = LqdMethane
			}
			@OUTPUT_RESOURCE:HAS[#ResourceName[LiquidFuel]]
			{
			@ResourceName = Kerosine
			@Ratio = .75
			}
			@OUTPUT_RESOURCE:HAS[#ResourceName[Oxidizer]]
			{
			@ResourceName = CarbonDioxide
			@Ratio = .25
			@DumpExcess = true
			}
			
	}

@MODULE[ModuleResourceConverter],*:HAS[#ConverterName[LiquidFuel]]
	{
		@ConverterName = Kerosine
		@StartActionName = Start ISRU [Kerosine]
		@StopActionName = Stop ISRU [Kerosine]	
		
			@INPUT_RESOURCE
			{
			@ResourceName = Oil
			}
			@OUTPUT_RESOURCE:HAS[#ResourceName[LiquidFuel]]
			{
			@ResourceName = Kerosine
			}
			OUTPUT_RESOURCE
		 	{
			ResourceName = LqdMethane
			Ratio = 0.1
			DumpExcess = true
			FlowMode = STAGE_PRIORITY_FLOW
		 	}

	}

@MODULE[ModuleResourceConverter],*:HAS[#ConverterName[Oxidizer]]
	{
		@ConverterName = LqdOxygen
		@StartActionName = Start ISRU [LqdOxygen]
		@StopActionName = Stop ISRU [LqdOxygen]	
		
			@OUTPUT_RESOURCE
			{
			@ResourceName = LqdOxygen
			}
			
	}
	
MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Water Electrolizer
		StartActionName = Start Water Electrolizer
		StopActionName = Stop Water Electrolizer 
		AutoShutdown = true
		GeneratesHeat = true
		TemperatureModifier = 20
		DefaultShutoffTemp = 0.5
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		Specialty = Engineer
		EfficiencyBonus = 1

		 
		 INPUT_RESOURCE
		 {
			ResourceName = Water
			Ratio = 1
			FlowMode = STAGE_PRIORITY_FLOW
  		 }
		 INPUT_RESOURCE
		 {
			ResourceName = ElectricCharge
			Ratio = 600
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = LqdHydrogen
			Ratio = 1.4
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = LqdOxygen
			Ratio = 0.7
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
	}	
}
